---
import type { ImageMetadata } from 'astro';
import { getImage } from 'astro:assets';

interface Props {
  title: string;
  exturl?: string;
  background?: ImageMetadata;
}

const { title, exturl, background } = Astro.props;

const backgroundImage = background ? `url(${(await getImage({ src: background, width: 400, fit: 'inside' })).src})` : 'none'
---

<li style={{backgroundImage}}>
    <h3>{title}</h3>
    <div class="group">
        <slot />
        {exturl && <p>
            <a href={exturl} target="_blank" rel="noopener">
                <span class="nowrap" ><i class="fas fa-external-link-square-alt"></i></span>&nbsp;More information
            </a>
        </p>}
    </div>
</li>

<style>
li {
    width: 400px;
    background-repeat: no-repeat;
    margin-left: auto;
    margin-right: auto;
    margin-bottom: 64px;
}

@media screen and (min-width: 600px) {
    li {
        margin-left: 0;
        margin-right: 64px;
    }
}
</style>